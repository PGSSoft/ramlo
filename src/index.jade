doctype html
html(lang="en")
    head
        meta(charset='utf-8')
        meta(name='viewport', content='width=device-width, initial-scale=1, shrink-to-fit=no')
        meta(http-equiv='x-ua-compatible', content='ie=edge')

        title #{apiTitle} :: generated by ramlo

        style(type='text/css')
            include main.css
    body
        header(class='header')
            .container-fluid
                h1(class='header__title')= apiTitle
                p(class='header__subtitle')= apiDescription
                    span(class='text-primary #{apiDescription ? "pull-xs-right" : ""}')= apiBaseUri
        main
            .container-fluid
                .row
                    .col-md-3
                        section(class='resources')
                            h1(class='resources__header') Resources
                            ul(class='resources__list')
                                each resource in apiResources
                                    li= resource.name
                                        ul(class='resources__list__endpoints')
                                            each endpoint in resource.endpoints
                                                li
                                                    case endpoint.method
                                                        when 'get': span(class='label label-primary')= endpoint.method
                                                        when 'post': span(class='label label-success')= endpoint.method
                                                        when 'put': span(class='label label-warning')= endpoint.method
                                                        when 'delete': span(class='label label-danger')= endpoint.method
                                                    = endpoint.uri
                    .col-md-9
                        each documentation in apiDocumentations
                            section(class='documentation')
                                h1(class='documentation__header')= documentation.title
                                p(class='documentation__content')= documentation.content

                        each resource in apiResources
                            section(class='documentation')
                                h1(class='documentation__header')= resource.name

                                each endpoint in resource.endpoints
                                    div(class='documentation__endpoints')
                                        p(class='documentation__endpoints__name')
                                            case endpoint.method
                                                when 'get': span(class='label label-primary')= endpoint.method
                                                when 'post': span(class='label label-success')= endpoint.method
                                                when 'put': span(class='label label-warning')= endpoint.method
                                                when 'delete': span(class='label label-danger')= endpoint.method
                                            = endpoint.uri

                                        p(class='documentation__endpoints__description')= endpoint.description

                                        .row.documentation__endpoints__container
                                            .col-md-8.documentation__endpoints__left
                                                if endpoint.uriParameters && endpoint.uriParameters.length
                                                    table(class='documentation__parameters table')
                                                        thead
                                                            tr
                                                                th name
                                                                th type
                                                                th description
                                                        tbody
                                                            each parameter in endpoint.uriParameters
                                                                tr
                                                                    td= parameter.name
                                                                    td= parameter.type
                                                                    td= parameter.description

                                                if endpoint.queryParameters && endpoint.queryParameters.length
                                                    h2(class='documentation__subheader') Query Parameters
                                                    table(class='documentation__parameters table')
                                                        thead
                                                            tr
                                                                th name
                                                                th type
                                                                th description
                                                        tbody
                                                            each parameter in endpoint.queryParameters
                                                                tr
                                                                    td= parameter.name
                                                                    td= parameter.type
                                                                    td= parameter.description

                                                if endpoint.requestBody && endpoint.requestBody.length
                                                    h2(class='documentation__subheader') Request
                                                    table(class='documentation__parameters table')
                                                        thead
                                                            tr
                                                                th name
                                                                th type
                                                                th description
                                                        tbody
                                                            each property in endpoint.requestBody
                                                                tr
                                                                    td= property.name
                                                                    if property.isRequired
                                                                        span(class='text-primary') *
                                                                    td= property.type
                                                                    td= property.description

                                                if endpoint.responseBody && endpoint.responseBody.length
                                                    h2(class='documentation__subheader')= 'Response '
                                                        span(class='text-success') (200)
                                                    table(class='documentation__parameters table')
                                                        thead
                                                            tr
                                                                th name
                                                                th type
                                                                th description
                                                        tbody
                                                            each property in endpoint.responseBody
                                                                tr
                                                                    td= property.name
                                                                        if property.isRequired
                                                                            span(class='text-primary') *
                                                                    td= property.type
                                                                    td= property.description

                                            .col-md-4.documentation__endpoints__right
                                                if endpoint.responseExample
                                                    h2(class='documentation__subheader')= 'Example '
                                                        span(class='text-success') (200)
                                                    pre
                                                        code !{endpoint.responseExample}
        footer(class='footer')
            .container-fluid
                p(class='footer__text') powered by
                    a(href='https://github.com/PGSSoft/ramlo') ramlo